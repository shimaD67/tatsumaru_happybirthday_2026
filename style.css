/* Colors */
:root {
    --primary-orange: #F39C12;
    --accent-green: #2ECC71;
    --hot-red: #E74C3C;
    --dark-bg: #2C3E50;
    --text-light: #ECF0F1;
    --sauce-white: #ECF0F1;
    --sauce-red: #C0392B;
    --sauce-black: #000000;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Noto Sans JP', sans-serif;
    background-color: var(--dark-bg);
    color: var(--text-light);
    overflow: hidden;
    /* Prevent scroll */
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: url('assets/bg_mexican.png');
    /* To be generated */
    background-size: cover;
    background-position: center;
}

#game-container {
    width: 100%;
    max-width: 960px;
    height: 750px;
    background: rgba(44, 62, 80, 0.85);
    /* Semi-transparent overlay */
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(5px);
    border: 4px solid var(--primary-orange);
}

/* Screens */
.screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    /* Hidden by default */
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    transition: opacity 0.3s;
}

.screen.active {
    display: flex;
}

/* Start Screen */
.logo-container {
    margin-bottom: 40px;
}

#game-logo {
    max-width: 450px;
    /* filter: drop-shadow(0 0 10px var(--primary-orange)); */
}

.subtitle {
    font-family: 'Fredoka One', cursive;
    color: var(--primary-orange);
    font-size: 1.5rem;
    margin-top: 10px;
    letter-spacing: 2px;
}

.difficulty-select h2 {
    font-family: 'Fredoka One', cursive;
    margin-bottom: 20px;
    color: var(--text-light);
}

.sauce-bottles {
    display: flex;
    gap: 30px;
    justify-content: center;
}

.sauce-btn {
    background: none;
    border: 2px solid transparent;
    cursor: pointer;
    transition: transform 0.2s, background 0.2s;
    padding: 15px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: white;
    font-weight: bold;
}

.sauce-btn:hover {
    transform: scale(1.1);
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--primary-orange);
}

.bottle-wrapper {
    position: relative;
    width: 60px;
    /* Estimated width */
    height: 120px;
    margin-bottom: 10px;
    display: flex;
    justify-content: center;
}

.sauce-btn img {
    height: 100%;
    width: auto;
    filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.5));
}

.label-overlay {
    position: absolute;
    top: 58%;
    /* Adjust to cover existing label */
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Fredoka One', cursive;
    /* Match brand font */
    font-size: 10px;
    line-height: 1.1;
    color: #e74c3c;
    /* Mascaras Color */
    background: #ecf0f1;
    /* Match label white */
    padding: 2px 4px;
    text-align: center;
    border-radius: 2px;
    white-space: nowrap;
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);
    /* Very slight rotation to match bottle perspective if needed, but bottle is straight */
}

/* Gameplay Screen */
#play-screen {
    justify-content: flex-start;
}

/* HUD */
.hud {
    width: 100%;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.time-container {
    width: 100%;
    height: 20px;
    background: #333;
    border-radius: 10px;
    overflow: hidden;
    border: 2px solid var(--text-light);
}

#time-bar {
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, var(--accent-green), var(--primary-orange), var(--hot-red));
    transition: width 0.1s linear;
}

.score-board {
    display: flex;
    justify-content: space-between;
    font-family: 'Fredoka One', cursive;
    font-size: 1.5rem;
    padding: 0 10px;
}

.score-box {
    color: var(--primary-orange);
}

.combo-box {
    color: var(--accent-green);
}

.escape {
    display: flex;
    justify-content: space-between;
    font-family: 'Fredoka One', cursive;
    font-size: 1.5rem;
    padding: 0 10px;
}

.escape-inst {
    color: var(--accent-white);
}

/* Typing Area */
#typing-area {
    margin-top: 80px;
    width: 80%;
    padding: 40px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 15px;
    position: relative;
}

#word-display {
    font-weight: bold;
}

#japanese-text {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 0 #000;
}

#kana-text {
    font-size: 1.2rem;
    color: #BDC3C7;
    margin-bottom: 5px;
}

#romaji-text {
    font-family: 'Courier New', monospace;
    font-size: 2rem;
    letter-spacing: 2px;
    text-transform: uppercase;
}

#typed-part {
    color: var(--accent-green);
}

#untyped-part {
    color: #7F8C8D;
}

/* Sauce Tints (Reusing the White Sauce asset with filters) */
/* Apply filters ONLY to the image, not the wrapper/text */
#btn-normal .bottle-wrapper img {
    filter: hue-rotate(-45deg) saturate(1.5) drop-shadow(0 5px 5px rgba(0, 0, 0, 0.5));
}

/* For red bottle overlay text, we want it to look normal (white background, red text) or maybe blend?
   The Red bottle uses the white bottle image tinted. The label area on the image (white) stays white-ish?
   Actually hue-rotate on white does nothing. So the label is white.
   Our overlay has white background. Perfect.
*/

#btn-hard .bottle-wrapper img {
    filter: grayscale(100%) brightness(0.7) contrast(1.2) drop-shadow(0 5px 5px rgba(0, 0, 0, 0.5));
}

/* For black bottle, the label becomes grey.
   We need to style the overlay for the hard button specifically.
*/
#btn-hard .label-overlay {
    background: #bdc3c7;
    /* Greyish */
    color: #2c3e50;
    /* Dark text */
}

/* Animations */
@keyframes shake {
    0% {
        transform: translateX(0);
    }

    25% {
        transform: translateX(-5px);
    }

    50% {
        transform: translateX(5px);
    }

    75% {
        transform: translateX(-5px);
    }

    100% {
        transform: translateX(0);
    }
}

.shake {
    animation: shake 0.3s ease-in-out;
    border: 2px solid var(--hot-red) !important;
}

@keyframes pop {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.5);
    }

    100% {
        transform: scale(1);
    }
}

.play-sound {
    animation: pop 0.1s ease;
}

#correct-effect {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    font-size: 15rem;
    font-weight: bold;
    color: rgba(46, 204, 113, 0.8);
    /* Accent Green */
    text-shadow: 0 0 20px #fff;
    pointer-events: none;
    /* Let clicks pass through */
    opacity: 0;
    z-index: 10;
    font-family: "Noto Sans JP", sans-serif;
}

#correct-effect.animate {
    animation: correctPop 0.4s ease-out forwards;
}

@keyframes correctPop {
    0% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
    }

    40% {
        transform: translate(-50%, -50%) scale(1.2);
        opacity: 1;
    }

    100% {
        transform: translate(-50%, -50%) scale(1.5);
        opacity: 0;
    }
}

/* Result Screen */
.result-card {
    background: var(--text-light);
    color: var(--dark-bg);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
    min-width: 400px;
    border: 5px solid var(--primary-orange);
}

.result-card h2 {
    font-family: 'Fredoka One', cursive;
    font-size: 3rem;
    color: var(--hot-red);
    margin-bottom: 20px;
}

.final-score {
    font-size: 2.5rem;
    font-weight: bold;
    color: var(--dark-bg);
    margin-bottom: 20px;
    border-bottom: 2px solid var(--primary-orange);
    padding-bottom: 10px;
}

.stats p {
    font-size: 1.2rem;
    margin: 10px 0;
}

.restart-btn {
    margin-top: 30px;
    padding: 15px 40px;
    font-size: 1.2rem;
    background: var(--primary-orange);
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-family: 'Fredoka One', cursive;
    transition: transform 0.2s, background 0.2s;
}

.restart-btn:hover {
    background: var(--hot-red);
    transform: scale(1.05);
}

/* Utility */
.hidden {
    display: none !important;
}

/* Birthday Special */
.birthday-msg {
    font-family: 'Fredoka One', cursive;
    color: var(--hot-red);
    font-size: 1.8rem;
    margin-top: 15px;
    text-shadow: 2px 2px 0 #fff;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.1);
    }

    100% {
        transform: scale(1);
    }
}

.date-display {
    position: absolute;
    bottom: 20px;
    left: 20px;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.7);
    font-weight: bold;
}

/* Bonus Overlay */
#bonus-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 20;
    animation: fadeIn 0.5s ease;
}

.bonus-content {
    text-align: center;
    max-width: 80%;
}

.bonus-content img {
    max-width: 100%;
    max-height: 400px;
    border: 5px solid var(--primary-orange);
    border-radius: 10px;
    box-shadow: 0 0 30px var(--primary-orange);
    margin-bottom: 20px;
    animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.bonus-text {
    font-family: 'Fredoka One', cursive;
    font-size: 3rem;
    color: var(--accent-green);
    text-shadow: 2px 2px 0 #fff;
    margin-bottom: 20px;
    animation: pulse 1s infinite alternate;
}

.bonus-content button {
    padding: 10px 30px;
    font-size: 1.2rem;
    background: var(--hot-red);
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-family: 'Fredoka One', cursive;
}

.bonus-content button:hover {
    background: var(--primary-orange);
    transform: scale(1.05);
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Responsive */
@media (max-width: 768px) {
    #game-container {
        height: 100vh;
        width: 100vw;
        border-radius: 0;
        border: none;
    }

    #game-logo {
        max-width: 300px;
    }

    .sauce-bottles {
        flex-direction: column;
        gap: 10px;
    }

    .bottle-wrapper {
        height: 80px;
        width: 40px;
    }

    .sauce-btn {
        flex-direction: row;
        padding: 5px;
    }

    .sauce-btn span {
        font-size: 0.8rem;
    }

    #japanese-text {
        font-size: 2rem;
    }

    #romaji-text {
        font-size: 1.5rem;
    }

}

